/*! For license information please see twk-chunk-5aa3ab47.js.LICENSE */
(window.tawkJsonp=window.tawkJsonp||[]).push([["chunk-5aa3ab47"],{"15e8":function(t,e,a){"use strict";var r=a("2f62"),n=a("f0b0"),i=a("7f46");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){l(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function l(t,e,a){return(e=function(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var r=a.call(t,e||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===o(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var u={name:"ActiveChatItem",components:{TawkAvatar:n.TawkAvatar,TawkEmoji:n.TawkEmoji,TawkIcon:n.TawkIcon,TawkButton:n.TawkButton,TawkLoader:n.TawkLoader},props:{convertToAvatarLink:{type:Function,required:!0},emojiEnabled:{type:Boolean,default:!0}},computed:c(c({},Object(r.c)({incomingMessage:"chat/incomingMessage",lastMessage:"chat/lastMessage",prechatFormSubmitted:"session/prechatFormSubmitted",isPrechatEnabled:"widget/isPrechatEnabled",unreadMessageCount:"chat/unreadMessageCount"})),{},{getAgentImage:function(){return this.lastMessage&&this.lastMessage.profileImage?this.lastMessage.profileImage:"".concat("https://embed.tawk.to/_s/v4/assets","/images/default-profile.svg")},getAgentName:function(){return this.lastMessage&&this.lastMessage.name?this.lastMessage.name:this.$i18n("chat","unanswered")},hasFile:function(){return this.lastMessage.isUpload&&this.lastMessage.fileType},hasUnreadMessage:function(){return this.unreadMessageCount>0&&("c"===this.lastMessage.senderType||"a"===this.lastMessage.senderType||"s"===this.lastMessage.senderType)},messageTextOnly:function(){return i.a.removeHTMLTags(i.a.removeAnchorTags(this.lastMessage.message))},getDescriptionText:function(){var t=this.lastMessage.callData,e="";return!t.isDone&&t.isRinging&&"ringing"===t.status?e=t.caller.displayName?this.$i18n("chat","agent_ringing"):this.$i18n("chat","visitor_ringing"):t.isDone||t.isRinging||"in-progress"!==t.status?t.isDone&&!t.isRinging&&"completed"===t.status&&(t.isMissed||t.isRejected)?e=t.caller.displayName?this.$i18n("chat","missed_visitor"):this.$i18n("chat","missed_agent"):!t.isDone||t.isRinging||"completed"!==t.status||t.isMissed||t.isRejected||(e=this.$i18n("chat","completed_call")):e=this.$i18n("chat","ongoing_call"),e}}),methods:c(c({},Object(r.b)({routerPush:"router/routerPush",showOverlay:"overlay/showOverlay"})),{},{goToChatView:function(){this.isPrechatEnabled&&!this.prechatFormSubmitted?this.routerPush("prechat"):this.routerPush("chat"),this.showOverlay(!1)}})},h=a("2877"),f=Object(h.a)(u,(function(){var t=this,e=t._self._c;return e("li",{staticClass:"tawk-flex",attrs:{role:"button",tabindex:"0"},on:{click:t.goToChatView}},["c"!==t.lastMessage.type||t.lastMessage.callData?t.lastMessage.callData&&!t.lastMessage.callData.hasError?[t.lastMessage.callData.caller?[e("div",{staticClass:"tawk-flex-none tawk-margin-xsmall-right"},[e("tawk-avatar",{attrs:{src:t.lastMessage.callData.caller.profileImage?t.lastMessage.callData.caller.profileImage:t.convertToAvatarLink()}})],1),e("div",{staticClass:"tawk-home-list-chat-content tawk-flex"},[e("div",{staticClass:"tawk-flex-1",staticStyle:{overflow:"hidden"}},[e("p",{class:["tawk-margin-xsmall-bottom","tawk-text-truncate",t.hasUnreadMessage?"tawk-text-bold tawk-text-grey-0":"tawk-text-grey-2"]},[t._v(" "+t._s(t.lastMessage.callData.caller.displayName?t.lastMessage.callData.caller.displayName:t.$i18n("chat","mobileName"))+" ")]),e("p",{class:["tawk-text-truncate",t.hasUnreadMessage?"tawk-text-grey-0":"tawk-text-grey-2"]},[t._v(" "+t._s(t.getDescriptionText)+" ")])]),e("div",{staticClass:"tawk-flex-none tawk-text-right"},[e("p",{staticClass:"tawk-text-green-1"},[t._v(" "+t._s(t.$i18n("chat","active"))+" ")]),e("tawk-button",{staticClass:"tawk-home-conversation-active-button",on:{click:t.goToChatView}},[e("tawk-icon",{attrs:{type:"right-arrow"}})],1)],1)])]:[e("div",{staticClass:"tawk-flex-none tawk-margin-xsmall-right"},[e("tawk-loader",{attrs:{type:"avatar"}})],1),e("div",{staticClass:"tawk-home-list-chat-content tawk-flex"},[e("div",{staticClass:"tawk-flex-1",staticStyle:{overflow:"hidden"}},[e("tawk-loader",{staticClass:"tawk-margin-xsmall-bottom"}),e("tawk-loader",{staticClass:"tawk-margin-xsmall-top",attrs:{size:"small"}})],1),e("div",{staticClass:"tawk-flex-none tawk-text-right"},[e("p",{staticClass:"tawk-text-green-1"},[t._v(" "+t._s(t.$i18n("chat","active"))+" ")]),e("tawk-button",{staticClass:"tawk-home-conversation-active-button"},[e("tawk-icon",{attrs:{type:"right-arrow"}})],1)],1)])]]:t.lastMessage.callData&&t.lastMessage.callData.hasError?[e("div",{staticClass:"tawk-flex-none tawk-margin-xsmall-right"},[e("tawk-avatar",{attrs:{src:t.convertToAvatarLink()}})],1),e("div",{staticClass:"tawk-home-list-chat-content tawk-flex"},[e("div",{staticClass:"tawk-flex-1",staticStyle:{overflow:"hidden"}},[e("p",{staticClass:"tawk-margin-xsmall-bottom tawk-text-truncate tawk-text-grey-2"},[t._v(" "+t._s(t.$i18n("chat","error_title"))+" ")]),e("p",{staticClass:"tawk-text-truncate tawk-text-grey-2"},[t._v(" "+t._s(t.$i18n("chat","call_error_load"))+" ")])]),e("div",{staticClass:"tawk-flex-none tawk-text-right"},[e("p",{staticClass:"tawk-text-green-1"},[t._v(" "+t._s(t.$i18n("chat","active"))+" ")]),e("tawk-button",{staticClass:"tawk-home-conversation-active-button",on:{click:t.goToChatView}},[e("tawk-icon",{attrs:{type:"right-arrow"}})],1)],1)])]:t._e():[e("div",{staticClass:"tawk-flex-none tawk-margin-xsmall-right"},[e("tawk-avatar",{attrs:{src:t.getAgentImage,alt:"".concat(t.$i18n("chat","agent_profile_image"))}})],1),e("div",{staticClass:"tawk-home-list-chat-content tawk-flex"},[e("div",{staticClass:"tawk-flex-1",staticStyle:{overflow:"hidden"}},[e("p",{class:["tawk-margin-xsmall-bottom","tawk-text-truncate",t.hasUnreadMessage?"tawk-text-bold tawk-text-grey-0":"tawk-text-grey-2"]},[t._v(" "+t._s(t.getAgentName)+" ")]),t.hasFile?e("div",[e("p",{class:["tawk-text-italic",t.hasUnreadMessage?"tawk-text-grey-0":"tawk-text-grey-2"]},[e("tawk-icon",{attrs:{type:"attach-file",size:"small"}}),t._v(" "+t._s(t.$i18n("chat","sent_file"))+" ")],1)]):e("p",{class:["tawk-text-truncate",t.hasUnreadMessage?"tawk-text-grey-0":"tawk-text-grey-2"]},[e("tawk-emoji",{key:t.lastMessage.messageId,attrs:{emoji:t.messageTextOnly,enabled:t.emojiEnabled}})],1)]),e("div",{staticClass:"tawk-flex-none tawk-text-right"},[e("p",{staticClass:"tawk-text-green-1"},[t._v(" "+t._s(t.$i18n("chat","active"))+" ")]),e("tawk-button",{staticClass:"tawk-home-conversation-active-button tawk-button-hover tawk-custom-color tawk-custom-border-color",on:{click:t.goToChatView}},[e("tawk-icon",{attrs:{type:"right-arrow"}})],1)],1)])]],2)}),[],!1,null,null,null).exports;function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function m(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?v(Object(a),!0).forEach((function(e){p(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function p(t,e,a){return(e=function(t){var e=function(t,e){if("object"!==d(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var r=a.call(t,e||"default");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===d(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var g={name:"PreviousChatItem",props:{item:{type:Object,required:!0},convertToAvatarLink:{type:Function,required:!0},emojiEnabled:{type:Boolean,default:!0}},components:{TawkAvatar:n.TawkAvatar,TawkEmoji:n.TawkEmoji},computed:{messageTextOnly:function(){var t=i.a.removeHTMLTags(this.item.snippet);return i.a.rawEncode(i.a.rawDecode(t))}},methods:m(m({},Object(r.b)({routerPush:"router/routerPush",showOverlay:"overlay/showOverlay"})),{},{select:function(t){this.$store.commit("history/setSelectedChat",t),this.routerPush("history-chat"),this.showOverlay(!0)}})},y=Object(h.a)(g,(function(){var t=this,e=t._self._c;return e("li",{staticClass:"tawk-flex",attrs:{role:"button",tabindex:"0"},on:{click:function(e){return t.select(t.item)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.select(t.item)}}},[e("div",{staticClass:"tawk-flex-none tawk-margin-xsmall-right"},[e("tawk-avatar",{attrs:{src:t.convertToAvatarLink(t.item.agentIds.length?t.item.agentAliases[0].profileImage:""),alt:"".concat(t.$i18n("chat","agent_profile_image"))}})],1),e("div",{staticClass:"tawk-home-list-chat-content tawk-flex"},[e("div",{staticClass:"tawk-flex-1 tawk-custom-chat-left",staticStyle:{overflow:"hidden"}},[t.item.agentIds.length&&t.item.snippet?e("p",{staticClass:"tawk-margin-xsmall-bottom tawk-text-truncate"},[t._v(" "+t._s(t.item.agentAliases[0].displayName)+" ")]):e("p",{staticClass:"tawk-flex-1"},[t._v(t._s(t.$i18n("chat","unanswered")))]),t.item.snippet?e("p",{staticClass:"tawk-text-truncate"},[e("tawk-emoji",{key:t.item.id,attrs:{emoji:t.messageTextOnly,enabled:t.emojiEnabled}})],1):t._e()]),e("div",{staticClass:"tawk-flex-none tawk-text-right tawk-custom-chat-right"},[e("tawk-timeago",{attrs:{datetime:t.item.endedOn,isDuration:!1,isLive:!1}})],1)])])}),[],!1,null,null,null).exports;function w(t){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function k(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?b(Object(a),!0).forEach((function(e){x(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function x(t,e,a){return(e=function(t){var e=function(t,e){if("object"!==w(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var r=a.call(t,e||"default");if("object"!==w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===w(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var O={name:"ConversationsItem",components:{TawkList:n.TawkList,ActiveChatItem:f,PreviousChatItem:y},props:{items:{type:Array,required:!0}},mounted:function(){!this.hasActiveChat||this.isPrechatEnabled&&!this.prechatFormSubmitted||this.goToChatView()},computed:k(k({},Object(r.c)({pageStatus:"session/pageStatus",currentView:"router/getCurrentView",chatOrder:"chat/chatOrder",hasLiveChat:"widget/hasLiveChat",agentsCount:"chat/agentsCount",endedChats:"chat/endedChats",lastMessage:"chat/lastMessage",emojiEnabled:"widget/emojiEnabled",isPrechatEnabled:"widget/isPrechatEnabled",prechatFormSubmitted:"session/prechatFormSubmitted"})),{},{previousConversations:function(){var t=this.items;return this.endedConversations.length?3===this.endedConversations.length||this.hasActiveChat&&2===this.endedConversations.length?[]:1===this.endedConversations.length&&this.hasActiveChat?t.slice(0,"-".concat(this.endedConversations.length+1)):t.slice(0,"-".concat(this.endedConversations.length)):this.hasActiveChat&&t.length>=3?t.slice(0,-1):t},hasActiveChat:function(){return"offline"!==this.pageStatus&&this.currentView&&"chat"!==this.currentView.path&&this.chatOrder&&this.isLiveChatFeatureEnabled},isLiveChatFeatureEnabled:function(){return!!(this.hasLiveChat||this.chatOrder&&this.agentsCount>0)},endedConversations:function(){return this.endedChats.length>=3?this.hasActiveChat?this.endedChats.slice(0,2):this.endedChats.slice(0,3):this.endedChats}}),methods:k(k({},Object(r.b)({routerPush:"router/routerPush",showOverlay:"overlay/showOverlay"})),{},{convertToAvatarLink:function(t){return t?"".concat("https://s3.amazonaws.com/tawk-to-pi","/").concat(t):"".concat("https://embed.tawk.to/_s/v4/assets","/images/default-profile.svg")},goToChatView:function(){this.routerPush("chat"),this.showOverlay(!1)}})},C=Object(h.a)(O,(function(){var t=this,e=t._self._c;return e("tawk-list",{staticClass:"tawk-home-list tawk-home-list-hover tawk-home-list-chat",attrs:{tag:"ul"}},[t.hasActiveChat&&t.lastMessage?e("active-chat-item",{attrs:{convertToAvatarLink:t.convertToAvatarLink,emojiEnabled:t.emojiEnabled}}):t._e(),t._l(t.endedConversations,(function(a){return e("previous-chat-item",{key:a.id,attrs:{item:a,convertToAvatarLink:t.convertToAvatarLink,emojiEnabled:t.emojiEnabled}})})),t._l(t.previousConversations,(function(a){return e("previous-chat-item",{key:a.id,attrs:{item:a,convertToAvatarLink:t.convertToAvatarLink,emojiEnabled:t.emojiEnabled}})}))],2)}),[],!1,null,null,null);e.a=C.exports},"30be":function(t,e,a){"use strict";a.r(e);var r=a("aebe").a,n=a("2877"),i=Object(n.a)(r,(function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:!t.history.isLoading,expression:"!history.isLoading"}],attrs:{role:"log"}},[e("p",{staticClass:"tawk-padding-small tawk-text-regular-4"},[t._v(" "+t._s(t.$i18n("routes","conversations"))+" ")]),t.history.isLoading?e("item-loader"):e("item",{attrs:{items:t.history.items}}),t.history.nextListHash&&!t.history.isLoading?e("div",{staticClass:"tawk-padding-small"},[e("tawk-button",{staticClass:"tawk-margin-xsmall tawk-button-cta tawk-custom-color tawk-custom-border-color",staticStyle:{width:"100%"},on:{click:t.goToHistoryView}},[t._v(" "+t._s(t.$i18n("chat","all_conversations"))+" ")])],1):t._e()],1)}),[],!1,null,null,null);e.default=i.exports},"35c3":function(t,e,a){"use strict";var r=a("f0b0"),n={name:"ConversationsLoader",components:{TawkList:r.TawkList,TawkLoader:r.TawkLoader}},i=a("2877"),o=Object(i.a)(n,(function(){var t=this._self._c;return t("tawk-list",{staticClass:"tawk-home-list tawk-home-list-chat",attrs:{tag:"ul"}},this._l(1,(function(e,a){return t("li",{key:a,staticClass:"tawk-flex"},[t("div",{staticClass:"tawk-flex-none tawk-margin-xsmall-right"},[t("tawk-loader",{attrs:{type:"icon",size:"medium"}})],1),t("div",{staticClass:"tawk-home-list-chat-content tawk-flex"},[t("div",{staticClass:"tawk-flex-1",staticStyle:{overflow:"hidden"}},[t("tawk-loader",{staticClass:"tawk-margin-xsmall-bottom"}),t("tawk-loader",{staticClass:"tawk-margin-xsmall-top",attrs:{size:"small"}})],1)])])})),0)}),[],!1,null,null,null);e.a=o.exports},aebe:function(t,e,a){"use strict";(function(t){var r=a("2f62"),n=a("f0b0"),i=a("15e8"),o=a("35c3"),s=a("3f09"),c=a("bdd0");function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(){u=function(){return t};var t={},e=Object.prototype,a=e.hasOwnProperty,r=Object.defineProperty||function(t,e,a){t[e]=a.value},n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function c(t,e,a){return Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,a){return t[e]=a}}function h(t,e,a,n){var i=e&&e.prototype instanceof v?e:v,o=Object.create(i.prototype),s=new L(n||[]);return r(o,"_invoke",{value:O(t,a,s)}),o}function f(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(t){return{type:"throw",arg:t}}}t.wrap=h;var d={};function v(){}function m(){}function p(){}var g={};c(g,i,(function(){return this}));var y=Object.getPrototypeOf,w=y&&y(y(P([])));w&&w!==e&&a.call(w,i)&&(g=w);var b=p.prototype=v.prototype=Object.create(g);function k(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function n(r,i,o,s){var c=f(t[r],t,i);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==l(h)&&a.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,o,s)}),(function(t){n("throw",t,o,s)})):e.resolve(h).then((function(t){u.value=t,o(u)}),(function(t){return n("throw",t,o,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(t,a){function r(){return new e((function(e,r){n(t,a,e,r)}))}return i=i?i.then(r,r):r()}})}function O(t,e,a){var r="suspendedStart";return function(n,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw i;return{value:void 0,done:!0}}for(a.method=n,a.arg=i;;){var o=a.delegate;if(o){var s=C(o,a);if(s){if(s===d)continue;return s}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var c=f(t,e,a);if("normal"===c.type){if(r=a.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(r="completed",a.method="throw",a.arg=c.arg)}}}function C(t,e){var a=e.method,r=t.iterator[a];if(void 0===r)return e.delegate=null,"throw"===a&&t.iterator.return&&(e.method="return",e.arg=void 0,C(t,e),"throw"===e.method)||"return"!==a&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+a+"' method")),d;var n=f(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,d;var i=n.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,n=function e(){for(;++r<t.length;)if(a.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return n.next=n}}return{next:T}}function T(){return{value:void 0,done:!0}}return m.prototype=p,r(b,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:m,configurable:!0}),m.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},k(x.prototype),c(x.prototype,o,(function(){return this})),t.AsyncIterator=x,t.async=function(e,a,r,n,i){void 0===i&&(i=Promise);var o=new x(h(e,a,r,n),i);return t.isGeneratorFunction(a)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},k(b),c(b,s,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),a=[];for(var r in e)a.push(r);return a.reverse(),function t(){for(;a.length;){var r=a.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=P,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&a.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(a,r){return o.type="throw",o.arg=t,e.next=a,r&&(e.method="next",e.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=a.call(i,"catchLoc"),c=a.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),_(a),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var r=a.completion;if("throw"===r.type){var n=r.arg;_(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,a){return this.delegate={iterator:P(t),resultName:e,nextLoc:a},"next"===this.method&&(this.arg=void 0),d}},t}function h(t,e,a,r,n,i,o){try{var s=t[i](o),c=s.value}catch(t){return void a(t)}s.done?e(c):Promise.resolve(c).then(r,n)}function f(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function d(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?f(Object(a),!0).forEach((function(e){v(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function v(t,e,a){return(e=function(t){var e=function(t,e){if("object"!==l(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var r=a.call(t,e||"default");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===l(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}e.a={name:"Conversations",mixins:[s.a],components:{TawkButton:n.TawkButton,item:i.a,ItemLoader:o.a},data:function(){return{unseenMessages:[],history:{isLoading:!1,items:[],nextListHash:!1}}},props:{historyEnabled:{type:Boolean,default:!0}},mounted:function(){var e=this;this.historyEnabled&&(this.loadHistory(),t.Tawk_Window.eventBus.$on("callDataUpdated",(function(t){e.activeConversation&&t.callId===e.activeConversation.callId&&(e.activeConversation.callData=t)})))},beforeDestroy:function(){this.unsetItems()},computed:d(d({},Object(r.c)({items:"history/items",chatMessages:"chat/chatMessages",chatOrder:"chat/chatOrder",endedChats:"chat/endedChats",nextListHash:"history/nextListHash",isLoading:"history/isLoading",token:"session/token"})),{},{activeConversation:function(){return 0===this.chatOrder?null:this.chatMessages[this.chatOrder]}}),methods:d(d({},Object(r.b)({routerPush:"router/routerPush",unsetItems:"history/unsetItems",showOverlay:"overlay/showOverlay",checkTokenValidity:"session/checkTokenValidity"})),{},{goToHistoryView:function(){this.routerPush("history-list"),this.showOverlay(!0)},loadHistory:function(){var t=this;return function(t){return function(){var e=this,a=arguments;return new Promise((function(r,n){var i=t.apply(e,a);function o(t){h(i,r,n,o,s,"next",t)}function s(t){h(i,r,n,o,s,"throw",t)}o(void 0)}))}}(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.checkTokenValidity();case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return");case 8:t.history.isLoading=!0,c.a.get("".concat("https://va.tawk.to","/v1/chat/list"),{limit:3},{"X-Tawk-Token":t.token},(function(e,a){e&&console.error(e),t.history.isLoading=!1,t.history.items=a.data.chats,t.$emit("historyItemsLoaded",t.history.items.length),a.data.hasNext&&a.data.next?t.history.nextListHash=a.data.next:t.history.nextListHash=null}));case 10:case"end":return e.stop()}}),e,null,[[0,5]])})))()}})}}).call(this,a("c8ba"))}}]);
//# sourceMappingURL=twk-chunk-5aa3ab47.js.map